<div class="container">
    <div class="row">
        <div class="actions">
            <button (click)="showFormBtn()" class="btn btn-primary w-100">Add new code</button>
        </div>
    </div>
    <div class="search-">
        <input type="text" (input)="search($event)" placeholder="Search Address">
        <button (click)="resetSearch()">Reset</button>
    </div>
    <div class="codes">
        <div class="table">
            <div class="address"><h3>Address</h3></div>
            <div class="code-con"><h3>Code</h3></div>
            <div class="submitter"><h3>Submitter</h3></div>
            <div class="actions"><h3>Actions</h3>
            </div>
        </div>
        <div class="code" *ngFor="let code of codes, index as i, first as isFirst">
            <div class="address" (click)="showAddressCodes(code)">
                <span>{{code.address}}</span>
            </div>
            <div class="actual-code">
                <span>{{code.code}}</span>
                <div class="actions">
                    <button class="btn btn-success" disabled>Worked</button>
                    <button class="btn btn-danger" (click)="codeFail(code)">Failed</button>
                </div>
            </div>
            <div class="submitter">
                <span>{{code.submitter}}</span>
            </div>
            <div class="actions">
                <button class="btn btn-warning" (click)="startEditCode(code)">Edit</button>
                <button class="btn btn-danger" (click)="deleteCode(code)">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="form-container" *ngIf="showForm">
    <h3 class="title">Add new code</h3>
    <button class="exit-btn" (click)="closeForm()">X</button>
    <form [formGroup]="codeForm" (submit)="onSubmit()">
        <div class="form-group">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-input" id="address" name="address" formControlName="address" [className]="address?.valid ? 'valid' : 'invalid'">
        </div>
        <div class="form-group">
            <label for="code" class="form-label">Code</label>
            <input type="text" class="form-input" id="code" name="code" formControlName="code" [className]="code?.valid ? 'valid' : 'invalid'">
        </div>
        <div class="form-group">
            <label for="submitter" class="form-label">Submitter's First and Last Name</label>
            <input type="text" class="form-input" id="submitter" name="submitter" formControlName="submitter" [className]="submitter?.valid ? 'valid' : 'invalid'">
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary" [disabled]="codeForm.invalid">Submit</button>
        </div>
    </form>


</div>